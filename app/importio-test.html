<!DOCTYPE html>
<html>
<head>
    <title>Import&bull;io Example</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <!-- 1. Include the client library -->
    <script src="https://cdn.import.io/js/2.0.0/importio.js"></script>

    <!-- 2. Configure the library -->
    <script type="text/javascript">
        importio.init({
            "auth": {
                "userGuid": "e6482869-3073-4778-b15e-0c02a01a1c55",
                "apiKey": "5UuWfd3Nj1nv7NHspvKZxqVr0jdXgSsSfaAUR04BI7Cue2QviL9w+WqQmKuV41D9McVdrLGuEAgj8KUIyL5R3g=="
            },
            "host": "import.io"
        });

        // Data and done callbacks
        var dataCallback = function(data) {
            console.log("Data received", data);
            for (var i = 0; i < data.length; i++) {
                var d = data[i];
                for (var k in d.data) {
                    document.write("<i>" + k + "</i>: " + d.data[k] + "<br />");
                }
                document.write("<hr>");
            }
        }
        var doneCallback = function(data) {
            console.log("Done, all data:", data);
            document.write("<b>Done</b><hr>");
        }

        // 3. Do the query (when the function is called)
        var doQuery = function() {
            // Query for tile ikea-products
            importio.query({
                "connectorGuids": [
                    "e4584354-4570-48bf-bfd8-e47eb09e1574"
                ],
                "input": {
                    "query": "Bedroom"
                }
            }, { "data": dataCallback, "done": doneCallback });
        }
    </script>
<body>
<button onclick="doQuery()">Query</button>
</body>
</html>